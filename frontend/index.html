<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog API - Gerenciador de Artigos</title>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/styles.css">
    
    <!-- Vue.js -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>
    <div id="app">
        <div class="header">
            <h1>üìù Blog API</h1>
            <p>Gerenciador de Artigos com Vue.js + Ruby</p>
        </div>

        <div class="controls">
            <button class="btn" @click="openCreateModal">
                ‚ú® Criar Novo Artigo
            </button>
        </div>

        <div v-if="loading" class="loading">
            Carregando artigos...
        </div>

        <div v-else-if="articles.length === 0" class="empty-state">
            <div class="empty-state-icon">üì≠</div>
            <p>Nenhum artigo encontrado. Crie seu primeiro artigo!</p>
        </div>

        <div v-else class="articles-grid">
            <div v-for="article in articles" :key="article.id" class="article-card">
                <div class="article-header">
                    <div>
                        <h2 class="article-title">{{ article.title }}</h2>
                        <span :class="['article-status', article.published ? 'status-published' : 'status-draft']">
                            {{ article.published ? '‚úì Publicado' : 'üìù Rascunho' }}
                        </span>
                    </div>
                </div>
                <p class="article-content">{{ article.content }}</p>
                <div class="article-actions">
                    <button class="btn btn-edit" @click="openEditModal(article)">
                        ‚úèÔ∏è Editar
                    </button>
                    <button class="btn btn-danger" @click="deleteArticle(article.id)">
                        üóëÔ∏è Deletar
                    </button>
                </div>
            </div>
        </div>

        <!-- Modal de Criar/Editar -->
        <div v-if="showModal" class="modal" @click.self="closeModal">
            <div class="modal-content">
                <h2 class="modal-header">
                    {{ editingArticle ? '‚úèÔ∏è Editar Artigo' : '‚ú® Criar Novo Artigo' }}
                </h2>
                <form @submit.prevent="saveArticle">
                    <div class="form-group">
                        <label>T√≠tulo:</label>
                        <input 
                            v-model="form.title" 
                            type="text" 
                            placeholder="Digite o t√≠tulo do artigo"
                            required
                        >
                    </div>
                    <div class="form-group">
                        <label>Conte√∫do:</label>
                        <textarea 
                            v-model="form.content" 
                            placeholder="Digite o conte√∫do do artigo"
                            required
                        ></textarea>
                    </div>
                    <div class="form-group">
                        <div class="checkbox-group">
                            <input 
                                v-model="form.published" 
                                type="checkbox" 
                                id="published"
                            >
                            <label for="published">Publicar imediatamente</label>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-cancel" @click="closeModal">
                            Cancelar
                        </button>
                        <button type="submit" class="btn">
                            {{ editingArticle ? 'üíæ Salvar' : '‚ú® Criar' }}
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="js/app.js"></script>
</body>
</html>
